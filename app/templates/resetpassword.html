<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESQUECI MINHA SENHA</title>
    <link rel="stylesheet" href="/app/static/css/resetpassword.css">
</head>
<body>
    <header class="main_header">
        <div class="main_header_nav">    
            <img class="logoheader" src="/app/static/images/logofutpeladaheader-removebg-preview.png" alt="logo futpelada">
            <h2 class="nome_do_site">FUTPELADA</h2>
        </div>
    </header>

    <main>
        <div class="main_container">
            <div class="container_contents">
                <form id="redefinirSenha" method="POST" action="/nova_senha">
                    <h2 class="title">Escolha uma nova senha</h2>
                        <p class="text">Sua nova senha deve ter 8 caracteres ou mais. <br>
                            Para ter uma senha forte, inclua números, <br>
                            letras e pontuação. 

                        </p>
                        <div class="input_button">
                            <input type="password" placeholder="Digite sua nova senha" id="novaSenha" name="novaSenha" required>
                            <img src="/app/static/images/olho_mostrar (1).png" alt="Mostrar senha" class="toggle-password" data-input="novaSenha">
                        </div>
                        <div class="input_button">
                            <input type="password" placeholder="Confirme a nova senha" id="confirmarSenha" name="confirmarSenha" required>
                            <img src="/app/static/images/olho_mostrar (1).png" alt="Mostrar senha" class="toggle-password" data-input="confirmarSenha">
                        </div>                        
                    <button class="bnt" type="submit">Alterar Senha</button>
                </form>
            </div>
        </div>
    <script>
        // Validação e funcionalidade de alternar visibilidade da senha
        document.querySelectorAll('.toggle-password').forEach(icon => {
    icon.addEventListener('click', () => {
        const inputId = icon.getAttribute('data-input');
        const input = document.getElementById(inputId);
        
        if (input.type === 'password') {
            input.type = 'text'; // Exibe a senha
            icon.src = "/app/static/images/olho_ocultar (1).png"; // Ícone de olho aberto
        } else {
            input.type = 'password'; // Esconde a senha
            icon.src = "/app/static/images/olho_mostrar (1).png"; // Ícone de olho fechado
        }
    });
});
        // Validação se as senhas coincidem
        document.getElementById('formRedefinirSenha').addEventListener('submit', function(event) {
            const novaSenha = document.getElementById('novaSenha').value;
            const confirmarSenha = document.getElementById('confirmarSenha').value;

            if (novaSenha !== confirmarSenha) {
                alert("As senhas não coincidem. Tente novamente.");
                event.preventDefault(); // Impede o envio do formulário
            }
        });
    </script>
</body>
</html>
